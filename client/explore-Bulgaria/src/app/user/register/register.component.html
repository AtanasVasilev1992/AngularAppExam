<main>
  <section id="register">
    <div class="form">
      <h2>Register</h2>
      <form class="login-form" [formGroup]="form" (ngSubmit)="register()">
        <input type="text" name="email" id="email" placeholder="email" formControlName="email" />
        <ng-container *ngIf="form.get('email')?.touched">
            <p class="errors" *ngIf="form.get('email')?.errors?.['required']">Email is required!</p>
            <p class="errors" *ngIf="form.get('email')?.errors?.['emailValidator']">Email is ivalid!</p>
        </ng-container>
        
        <input
          type="text"
          name="username"
          id="username"
          placeholder="username"
          formControlName="username"
        />
        <ng-container *ngIf="form.get('username')?.touched">
            <p class="errors" *ngIf="form.get('username')?.errors?.['required']">Username is required!</p>
            <p class="errors" *ngIf="form.get('username')?.errors?.['minlength']">Username must be at least 5 characters!</p>
        </ng-container>
        
        <input type="text" name="country" id="country" placeholder="country" formControlName="country"/>
        <ng-container *ngIf="form.get('country')?.touched">
            <p class="errors" *ngIf="form.get('country')?.errors?.['required']">Country is required!</p>
            <p class="errors" *ngIf="form.get('country')?.errors?.['minlength']">Username must be at least 2 characters!</p>
        </ng-container>
        
        <input type="text" name="city" id="city" placeholder="city" formControlName="city"/>
        <ng-container *ngIf="form.get('city')?.touched">
            <p class="errors" *ngIf="form.get('city')?.errors?.['required']">City is required!</p>
        </ng-container>
        
        <ng-container formGroupName="passGroup">
            <input
              type="password"
              name="password"
              id="register-password"
              placeholder="***********"
              formControlName="password"
            />
            
            <input
              type="password"
              name="rePassword"
              id="repeat-password"
              placeholder="***********"
              formControlName="rePassword"
            />
            
            <ng-container *ngIf="form.get('passGroup')?.get('rePassword')?.touched">
                <p class="errors" *ngIf="form.get('passGroup')?.errors?.['matchPasswordsValidator'] ||
                form.get('passGroup')?.get('rePassword')?.errors?.['required']"
                >Passwords missmatch!</p>
            </ng-container>
        
        </ng-container>

        <button [disabled]="form.invalid" [style]="{backgroundColor: form.invalid ? 'gray': 'green'}">Register</button>
        <p class="message">
          Already registered? <a routerLink="/auth/login">Login</a>
        </p>
      </form>
    </div>
  </section>
</main>

<!-- <main>
  
  <form action="action_page.php">
    <div class="container">
      <h1>Register</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>
  
      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Enter Email" name="email" id="email" required>
  
      <label for="psw"><b>Password</b></label>
      <input type="password" placeholder="Enter Password" name="psw" id="psw" required>
  
      <label for="psw-repeat"><b>Repeat Password</b></label>
      <input type="password" placeholder="Repeat Password" name="psw-repeat" id="psw-repeat" required>
      <hr>
  
      <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
      <button type="submit" class="registerbtn">Register</button>
    </div>
  
    <div class="container signin">
      <p>Already have an account? <a href="#">Sign in</a>.</p>
    </div>
  </form> 
</main> -->